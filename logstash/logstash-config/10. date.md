
nano  logstash-input-opensearch.conf 
./bin/logstash -f logstash-input-opensearch.conf --config.reload.automatic 


input {
    stdin {
        codec => json
    }
    http {
        host => "0.0.0.0"
        port => 8080
    }
}

filter {
  grok {
    match => { "message" => "%{IP:ip_address} %{USER:identity} %{USER:auth} \[%{HTTPDATE:time}\] %{WORD:http_verb} %{URIPATHPARAM:req_path} %{INT:http_status:int}" }
  }


  date {
    match => [ "[time]", "MMM dd, yyyy HH:mm:ss a" ]
  }
}


output {
    stdout {
        codec => rubydebug
    }
}


192.168.59.10 - jeo [20/Sep/2017:13:22:22 +0200] GET /product/view/123 200

%{IP:ip_address} %{USER:identity} %{USER:auth} \[%{HTTPDATE:req_ts}\] %{WORD:http_verb} %{URIPATHPARAM:req_path} %{INT:http_status:int}

filter {
  grok {
    match => { "message" => "%{IP:ip_address} %{USER:identity} %{USER:auth} \[%{HTTPDATE:req_ts}\] %{WORD:http_verb} %{URIPATHPARAM:req_path} %{INT:http_status:int}" }
  }
}



