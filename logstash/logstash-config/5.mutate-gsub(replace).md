
# ###########################  gsub  ########################
gsub" là một phần của filter plugin "mutate" được sử dụng để thay thế hoặc loại bỏ các ký tự hoặc mẫu trong một trường dữ liệu bằng một giá trị mới
filter {
  mutate {
    gsub => [
      "field_name", "pattern", "replacement"
    ]
  }
}

# Trong đó:

"field_name": Là tên của trường dữ liệu bạn muốn thực hiện thay thế.
"pattern": Là biểu thức chính quy (regular expression) mà bạn muốn tìm kiếm trong trường dữ liệu.
"replacement": Là giá trị mới mà bạn muốn thay thế vào các vị trí trùng khớp của "pattern".

1. Thay thế toàn bộ dấu cách trong trường "message" bằng dấu gạch ngang:
filter {
  mutate {
    gsub => [
      "message", " ", "-"
    ]
  }
}

2. Xóa các ký tự đặc biệt khỏi trường "description" (chỉ giữ lại các ký tự chữ và số):

filter {
  mutate {
    gsub => [
      "description", "[^A-Za-z0-9]", ""
    ]
  }
}

3. Thay thế tất cả các khoảng trắng liên tiếp trong trường "content" bằng một khoảng trắng duy nhất:

filter {
  mutate {
    gsub => [
      "content", "\s+", " "
    ]
  }
}

=> ta có thể xóa mấy cái linh tinh trong mỗi trường